(()=>{"use strict";const e=document.querySelector(".projectSection"),t=document.querySelector(".projects");function n(t){for(let n=t.length-1;n<t.length;n++){let i=t[n],d=document.createElement("div");d.classList.add("projectCard"),d.classList.add(`no${[n+1]}`),e.appendChild(d);const o=document.querySelector(".no"+[n+1]);for(let e in i){let t=document.createElement("div");t.classList.add(`project${e}`),o.appendChild(t),"priority"===e?(t.classList.add(`${i[e]}`),t.textContent=""):"description"===e?(t.classList.add("hidden"),t.textContent+=i[e]):t.textContent+=i[e],t.classList.add(`no${[n+1]}`)}let c=document.createElement("img");c.classList.add("ellipsis"),c.setAttribute("id",`e${[n+1]}`),c.src="ellipsis.svg",o.appendChild(c)}}function i(e){const t=document.querySelector(`.projectCard.no${e}`);t.querySelector(".projectdescription").classList.add("hidden"),t.querySelector(".projecttitle").classList.add("hidden"),t.querySelector(".projectdueDate").classList.add("hidden"),t.querySelector(".ellipsis").classList.add("hidden")}function d(e){const t=document.querySelector(`.projectCard.no${e}`);t.querySelector(".projectdescription").classList.toggle("hidden"),t.querySelector(".projecttitle").classList.remove("hidden"),t.querySelector(".projectdueDate").classList.remove("hidden"),t.querySelector(".ellipsis").classList.remove("hidden")}function o(e){const t=document.querySelector(`.projectCard.no${e}`);if(!1===t.contains(document.querySelector(`.editForm.no${e}`))){t.classList.add("editMode");let n=s[e-1];const i=document.createElement("form");i.setAttribute("method","get"),i.classList.add("editForm"),i.classList.add(`no${e}`);for(let t in n)if("priority"===t){let t=document.createElement("select");t.setAttribute("name","priority"),t.setAttribute("id","priority"),t.setAttribute("class",`no${e}`),i.appendChild(t);let n=document.createElement("option");n.setAttribute("value","low"),n.textContent="Low",t.appendChild(n);let d=document.createElement("option");d.setAttribute("value","medium"),d.textContent="Medium",t.appendChild(d);let o=document.createElement("option");o.setAttribute("value","high"),o.textContent="High",t.appendChild(o)}else if("dueDate"===t){let n=document.createElement("label");n.setAttribute("for",t),n.textContent=t,i.appendChild(n);let d=document.createElement("input");d.setAttribute("type","date"),d.setAttribute("name",t),d.setAttribute("id",t),d.setAttribute("class",`no${e}`),i.appendChild(d)}else if("title"===t){let n=document.createElement("label");n.setAttribute("for",t),n.textContent=t,i.appendChild(n);let d=document.createElement("input");d.setAttribute("type","text"),d.setAttribute("id","projectTitle"),d.setAttribute("class",`no${e}`),d.setAttribute("name",t),i.appendChild(d)}else{let n=document.createElement("label");n.setAttribute("for",t),n.textContent=t,i.appendChild(n);let d=document.createElement("input");d.setAttribute("type","text"),d.setAttribute("name",t),d.setAttribute("id",t),d.setAttribute("class",`no${e}`),i.appendChild(d)}let o=document.createElement("button");o.setAttribute("class","submitProject"),o.setAttribute("id",`no${e}`),o.textContent="Done",o.addEventListener("click",(n=>{n.preventDefault();const o=document.querySelector(`#projectTitle.no${e}`).value,c=document.querySelector(`#description.no${e}`).value,r=document.querySelector(`#dueDate.no${e}`).value,l=document.querySelector(`#priority.no${e}`).value;let u=new a(o,c,r,l);s[e-1]=u,i.classList.add("hidden"),t.classList.remove("editMode"),d(e);let p=document.querySelectorAll(`.no${e}`);for(let e=0;e<p.length;e++)p[e].classList.contains("projecttitle")?p[e].textContent=o:p[e].classList.contains("projectdescription")?(p[e].textContent=c,p[e].classList.add("hidden")):p[e].classList.contains("projectdueDate")?p[e].textContent=r:p[e].classList.contains("projectpriority")&&(p[e].classList.remove("low"),p[e].classList.remove("medium"),p[e].classList.remove("high"),p[e].classList.add(l))})),i.appendChild(o),t.appendChild(i)}else t.contains(document.querySelector(`.editForm.no${e}`))&&(document.querySelector(`.editForm.no${e}`).classList.remove("hidden"),t.classList.add("editMode"))}function c(){const e=document.querySelectorAll(".ellipsis");let t=!1;e.forEach((e=>{e.addEventListener("click",(e=>{let n=e.target.id.length-1;const d=document.querySelector(`.projectCard.no${e.target.id.slice(n)}`);if(e.stopImmediatePropagation(),!1===d.contains(document.querySelector(`.popupMenu${e.target.id.slice(n)}`))){const r=document.createElement("div");r.classList.add(`popupMenu${e.target.id.slice(n)}`);const l=document.createElement("div");l.classList.add("popupDelete"),l.setAttribute("id",`del${e.target.id.slice(n)}`),l.textContent="Delete",r.appendChild(l);const s=document.createElement("div");s.classList.add("popupEdit"),s.textContent="Edit",s.setAttribute("id",`edit${e.target.id.slice(n)}`),r.appendChild(s),d.appendChild(r),t=!0,document.querySelectorAll(".popupDelete").forEach((e=>{e.addEventListener("click",(e=>{let t=e.target.id.length-1;document.querySelectorAll(`.no${e.target.id.slice(t)}`).forEach((e=>{e.remove()}))}))})),c=e.target.id.slice(n),document.querySelectorAll(".popupEdit").forEach((e=>{e.addEventListener("click",(e=>{let t=e.target.id.length-1;const n=document.querySelector(`.projectCard.no${e.target.id.slice(t)}`);e.stopImmediatePropagation(),document.querySelector(`.popupMenu${c}`).classList.add("hidden"),n.classList.add("editMode"),o(e.target.id.slice(t)),i(c)}))}))}else!0===t||d.classList.contains(".editMode")?(document.querySelector(`.popupMenu${e.target.id.slice(n)}`).classList.add("hidden"),t=!1):!1===t&&d.contains(document.querySelector(`.popupMenu${e.target.id.slice(n)}`))&&(document.querySelector(`.popupMenu${e.target.id.slice(n)}`).classList.remove("hidden"),t=!0);var c}))}))}function r(){document.querySelectorAll(".projectCard").forEach((e=>{e.addEventListener("click",(e=>{e.stopImmediatePropagation();let t=e.target.className.length-1;if(!e.target.classList.contains("projectCard"))return;const n=document.querySelector(`.projectCard.no${e.target.className.slice(t)}`);n.classList.contains("editMode")||n.querySelector(".projectdescription").classList.toggle("hidden")}))}))}const l=document.querySelector(".projectForm");let s=[];function a(e,t,n,i){this.title=e,this.description=t,this.dueDate=n,this.priority=i}const u=document.querySelector(".content");const p=document.querySelector(".sidebar"),m=["GENERAL","TODAY","UPCOMING"];function h(){!function(e){e.forEach((e=>{const t=document.createElement("div");t.classList.add("sidebarItem"),t.setAttribute("id",e),t.textContent=e,t.addEventListener("click",(()=>{C(e)})),p.appendChild(t)}))}(m),function(){const e=document.createElement("div");e.classList.add("sidebarItem"),e.classList.add("projects"),e.textContent="Projects",p.appendChild(e)}(),function(){const e=document.createElement("div");e.classList.add("sidebarItem"),e.classList.add("addProject"),e.textContent="+ Add Project",p.appendChild(e),document.querySelector(".addProject").addEventListener("click",(()=>{l.classList.remove("hidden")})),function(){const e=document.createElement("div");e.classList.add("projectForm"),e.classList.add("hidden");const t=document.createElement("form");t.setAttribute("method","get"),t.classList.add("editMode"),e.appendChild(t);let n=document.createElement("div");n.classList.add("formPriority"),t.appendChild(n);let i=document.createElement("label");i.setAttribute("for","priority"),i.textContent="Priority Level";let d=document.createElement("select");d.setAttribute("name","priority"),d.setAttribute("id","priority"),d.classList.add("main"),n.appendChild(d);let o=document.createElement("option");o.setAttribute("value","low"),o.textContent="Low",d.appendChild(o);let c=document.createElement("option");c.setAttribute("value","medium"),c.textContent="Medium",d.appendChild(c);let r=document.createElement("option");r.setAttribute("value","high"),r.textContent="High",d.appendChild(r);let l=document.createElement("label");l.setAttribute("for","dueDate"),l.textContent="Due Date",t.appendChild(l);let s=document.createElement("input");s.setAttribute("type","date"),s.setAttribute("name","dueDate"),s.setAttribute("id","dueDate"),s.classList.add("main"),t.appendChild(s);let a=document.createElement("label");a.setAttribute("for","projectTitle"),a.textContent="projectTitle",t.appendChild(a);let u=document.createElement("input");m.setAttribute("type","text"),m.setAttribute("id","projectTitle"),m.setAttribute("name","projectTitle"),u.classList.add("main"),t.appendChild(m);let p=document.createElement("label");p.setAttribute("for","description"),p.textContent="description",t.appendChild(p);let m=document.createElement("input");m.setAttribute("type","text"),m.setAttribute("name","description"),m.setAttribute("id","description"),m.classList.add("main"),t.appendChild(m)}()}(),document.querySelector("#submitProject").addEventListener("click",(e=>{e.preventDefault(),function(){let e=new a(document.querySelector("#projectTitle.main").value,document.querySelector("#description.main").value,document.querySelector("#dueDate.main").value,document.querySelector("#priority.main").value);s.push(e)}(),l.classList.add("hidden"),document.querySelectorAll("input").forEach((e=>e.value="")),document.querySelector("#priority").value="low",n(s),function(e){for(let n=e.length-1;n<e.length;n++){let i=e[n],d=document.createElement("div");d.classList.add("projectTab"),d.classList.add(`no${[n+1]}`),t.appendChild(d);const o=document.querySelector(".no"+[n+1]);for(let e in i)if("title"===e){let t=document.createElement("div");t.classList.add(`tab${e}`),t.classList.add(`project${e}`),t.classList.add(`no${[n+1]}`),t.textContent=i[e],o.appendChild(t)}let c=document.createElement("img");c.classList.add("sidebarDelete"),c.setAttribute("id",`sidebarD${[n+1]}`),c.src="delbtn.svg",o.appendChild(c)}}(s),c(),document.querySelectorAll(".sidebarDelete").forEach((e=>{e.addEventListener("click",(e=>{let t=e.target.id.length-1;const n=document.querySelectorAll(`.no${e.target.id.slice(t)}`);e.stopImmediatePropagation(),n.forEach((e=>{e.remove()}))}))})),r()}))}let L="GENERAL";function C(e){L=e,y()}function y(){switch(document.querySelector(".sidebar").replaceChildren(),h(),document.querySelector(".content").replaceChildren(),L){case"GENERAL":console.log("here"),C("GENERAL"),function(){const e=document.createElement("div");e.classList.add("projectSection"),u.appendChild(e),n(s)}(),document.querySelectorAll(".projectCard").forEach((e=>{e.addEventListener("click",(e=>{let t=e.target.className.length-1;var n;n=e.target.className.slice(t),c(),r(),d(n),i(n),o()}))}));break;case"TODAY":renderTodaySection();break;case"UPCOMING":renderUpcomingSection();break;default:throw new Error(`${view} is not a valid view!`)}}C()})();