(()=>{"use strict";const e=document.querySelector(".projectSection"),t=document.querySelector(".projects");const l=document.querySelector(".projectForm");let d=[];function i(e,t,l,d){this.title=e,this.description=t,this.dueDate=l,this.priority=d}document.querySelector("#submitProject").addEventListener("click",(n=>{n.preventDefault(),function(){let e=new i(document.querySelector("#projectTitle").value,document.querySelector("#description").value,document.querySelector("#dueDate").value,document.querySelector("#priority").value);d.push(e)}(),l.classList.add("hidden"),document.querySelectorAll("input").forEach((e=>e.value="")),document.querySelector("#priority").value="low",function(t){for(let l=t.length-1;l<t.length;l++){let d=t[l],i=document.createElement("div");i.classList.add("projectCard"),i.classList.add(`no${[l+1]}`),e.appendChild(i);const n=document.querySelector(".no"+[l+1]);for(let e in d){let t=document.createElement("div");t.classList.add(`project${e}`),n.appendChild(t),"priority"===e?(t.classList.add(`${d[e]}`),t.textContent=""):"description"===e?(t.classList.add(`no${[l+1]}`),t.classList.add("hidden"),t.textContent+=d[e]):t.textContent+=d[e]}let o=document.createElement("img");o.classList.add("ellipsis"),o.setAttribute("id",`e${[l+1]}`),o.src="ellipsis.svg",n.appendChild(o)}}(d),function(e){for(let l=e.length-1;l<e.length;l++){let d=e[l],i=document.createElement("div");i.classList.add("projectTab"),i.classList.add(`no${[l+1]}`),t.appendChild(i);const n=document.querySelector(".no"+[l+1]);for(let e in d)if("title"===e){let t=document.createElement("div");t.classList.add(`projectTab${e}`),t.textContent=d[e],n.appendChild(t)}let o=document.createElement("img");o.classList.add("sidebarDelete"),o.setAttribute("id",`sidebarD${[l+1]}`),o.src="delbtn.svg",n.appendChild(o)}}(d),function(){const e=document.querySelectorAll(".ellipsis");let t=!1,l=!1;e.forEach((e=>{e.addEventListener("click",(e=>{let n=e.target.id.length-1;const o=document.querySelector(`.projectCard.no${e.target.id.slice(n)}`);if(e.stopImmediatePropagation(),console.log(l,t),!1===t&&!1===l){const c=document.createElement("div");c.classList.add(`popupMenu${e.target.id.slice(n)}`);const r=document.createElement("div");r.classList.add("popupDelete"),r.setAttribute("id",`del${e.target.id.slice(n)}`),r.textContent="Delete",c.appendChild(r);const s=document.createElement("div");s.classList.add("popupEdit"),s.textContent="Edit",s.setAttribute("id",`edit${e.target.id.slice(n)}`),c.appendChild(s),o.appendChild(c),document.querySelectorAll(".popupDelete").forEach((e=>{e.addEventListener("click",(e=>{let t=e.target.id.length-1;document.querySelectorAll(`.no${e.target.id.slice(t)}`).forEach((e=>{e.remove()}))}))})),document.querySelectorAll(".popupEdit").forEach((e=>{e.addEventListener("click",(e=>{let t=e.target.id.length-1;const l=document.querySelector(`.projectCard.no${e.target.id.slice(t)}`);e.stopImmediatePropagation(),l.classList.add("editMode");let n=d[e.target.id.slice(t)-1];const o=document.createElement("form");o.setAttribute("method","get");for(let e in n)if(document.querySelector(`.project${e}`).remove(),"priority"===e){let e=document.createElement("select");e.setAttribute("name","priority"),e.setAttribute("id","priority"),o.appendChild(e);let t=document.createElement("option");t.setAttribute("value","low"),t.textContent="Low",e.appendChild(t);let l=document.createElement("option");l.setAttribute("value","medium"),l.textContent="Medium",e.appendChild(l);let d=document.createElement("option");d.setAttribute("value","high"),d.textContent="High",e.appendChild(d)}else if("dueDate"===e){let t=document.createElement("label");t.setAttribute("for",e),t.textContent=e,o.appendChild(t);let l=document.createElement("input");l.setAttribute("type","date"),l.setAttribute("name",e),l.setAttribute("id",e),o.appendChild(l)}else if("title"===e){let t=document.createElement("label");t.setAttribute("for",e),t.textContent=e,o.appendChild(t);let l=document.createElement("input");l.setAttribute("type","text"),l.setAttribute("id","projectTitle"),l.setAttribute("name",e),o.appendChild(l)}else{let t=document.createElement("label");t.setAttribute("for",e),t.textContent=e,o.appendChild(t);let l=document.createElement("input");l.setAttribute("type","text"),l.setAttribute("name",e),l.setAttribute("id",e),o.appendChild(l)}let c=document.createElement("button");c.setAttribute("class","submitProject"),c.setAttribute("id",`no${e.target.id.slice(t)}`),c.textContent="Done",c.addEventListener("click",(e=>{e.preventDefault(),console.log(e.target.id.slice(2));let t=new i(document.querySelector("#projectTitle").value,document.querySelector("#description").value,document.querySelector("#dueDate").value,document.querySelector("#priority").value);d[e.target.id.slice(2)-1]=t,console.log(d),o.classList.add("hidden"),l.classList.remove("editMode")})),o.appendChild(c),l.appendChild(o)}))})),t=!0,l=!0}else!0===t?(document.querySelector(`.popupMenu${e.target.id.slice(n)}`).classList.add("hidden"),l=!0,t=!1):!1===t&&!0===l&&(document.querySelector(`.popupMenu${e.target.id.slice(n)}`).classList.remove("hidden"),t=!0)}))}))}(),document.querySelectorAll(".sidebarDelete").forEach((e=>{e.addEventListener("click",(e=>{let t=e.target.id.length-1;const l=document.querySelectorAll(`.no${e.target.id.slice(t)}`);e.stopImmediatePropagation(),l.forEach((e=>{e.remove()}))}))}))})),document.querySelector(".addProject").addEventListener("click",(()=>{l.classList.remove("hidden")})),document.querySelector("#title").addEventListener("click",(()=>{console.log(d)}))})();