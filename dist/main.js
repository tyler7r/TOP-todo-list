(()=>{"use strict";const e=document.querySelector(".projectSection"),t=document.querySelector(".projects");const n=document.querySelector(".projectForm");let d=[];function o(e,t,n,d){this.title=e,this.description=t,this.dueDate=n,this.priority=d}document.querySelector("#submitProject").addEventListener("click",(i=>{i.preventDefault(),function(){let e=new o(document.querySelector("#projectTitle").value,document.querySelector("#description").value,document.querySelector("#dueDate").value,document.querySelector("#priority").value);d.push(e)}(),n.classList.add("hidden"),document.querySelectorAll("input").forEach((e=>e.value="")),document.querySelector("#priority").value="low",function(t){for(let n=t.length-1;n<t.length;n++){let d=t[n],o=document.createElement("div");o.classList.add("projectCard"),o.classList.add(`no${[n+1]}`),e.appendChild(o);const i=document.querySelector(".no"+[n+1]);for(let e in d){let t=document.createElement("div");t.classList.add(`project${e}`),i.appendChild(t),"priority"===e?(t.classList.add(`${d[e]}`),t.textContent=""):"description"===e?(t.classList.add("hidden"),t.textContent+=d[e]):t.textContent+=d[e],t.classList.add(`no${[n+1]}`)}let l=document.createElement("img");l.classList.add("ellipsis"),l.setAttribute("id",`e${[n+1]}`),l.src="ellipsis.svg",i.appendChild(l)}}(d),function(e){for(let n=e.length-1;n<e.length;n++){let d=e[n],o=document.createElement("div");o.classList.add("projectTab"),o.classList.add(`no${[n+1]}`),t.appendChild(o);const i=document.querySelector(".no"+[n+1]);for(let e in d)if("title"===e){let t=document.createElement("div");t.classList.add(`tab${e}`),t.classList.add(`project${e}`),t.classList.add(`no${[n+1]}`),t.textContent=d[e],i.appendChild(t)}let l=document.createElement("img");l.classList.add("sidebarDelete"),l.setAttribute("id",`sidebarD${[n+1]}`),l.src="delbtn.svg",i.appendChild(l)}}(d),function(){const e=document.querySelectorAll(".ellipsis");let t=!1,n=!1;e.forEach((e=>{e.addEventListener("click",(e=>{let i=e.target.id.length-1;const l=document.querySelector(`.projectCard.no${e.target.id.slice(i)}`);if(e.stopImmediatePropagation(),console.log(n,t),!1===t&&!1===n){const r=document.createElement("div");r.classList.add(`popupMenu${e.target.id.slice(i)}`);const s=document.createElement("div");s.classList.add("popupDelete"),s.setAttribute("id",`del${e.target.id.slice(i)}`),s.textContent="Delete",r.appendChild(s);const a=document.createElement("div");a.classList.add("popupEdit"),a.textContent="Edit",a.setAttribute("id",`edit${e.target.id.slice(i)}`),r.appendChild(a),l.appendChild(r),document.querySelectorAll(".popupDelete").forEach((e=>{e.addEventListener("click",(e=>{let t=e.target.id.length-1;document.querySelectorAll(`.no${e.target.id.slice(t)}`).forEach((e=>{e.remove()}))}))})),c=e.target.id.slice(i),document.querySelectorAll(".popupEdit").forEach((e=>{e.addEventListener("click",(e=>{let t=e.target.id.length-1;const n=document.querySelector(`.projectCard.no${e.target.id.slice(t)}`);e.stopImmediatePropagation(),document.querySelector(`.popupMenu${c}`).classList.add("hidden"),n.classList.add("editMode"),document.querySelector(`.projectdescription.no${e.target.id.slice(t)}`).classList.remove("hidden"),function(e){const t=document.querySelector(`.projectCard.no${e}`);t.classList.add("editMode");let n=d[e-1];const i=document.createElement("form");i.setAttribute("method","get");for(let e in n)if(document.querySelector(`.project${e}`),"priority"===e){let e=document.createElement("select");e.setAttribute("name","priority"),e.setAttribute("id","priority"),i.appendChild(e);let t=document.createElement("option");t.setAttribute("value","low"),t.textContent="Low",e.appendChild(t);let n=document.createElement("option");n.setAttribute("value","medium"),n.textContent="Medium",e.appendChild(n);let d=document.createElement("option");d.setAttribute("value","high"),d.textContent="High",e.appendChild(d)}else if("dueDate"===e){let t=document.createElement("label");t.setAttribute("for",e),t.textContent=e,i.appendChild(t);let n=document.createElement("input");n.setAttribute("type","date"),n.setAttribute("name",e),n.setAttribute("id",e),i.appendChild(n)}else if("title"===e){let t=document.createElement("label");t.setAttribute("for",e),t.textContent=e,i.appendChild(t);let n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("id","projectTitle"),n.setAttribute("name",e),i.appendChild(n)}else{let t=document.createElement("label");t.setAttribute("for",e),t.textContent=e,i.appendChild(t);let n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("name",e),n.setAttribute("id",e),i.appendChild(n)}let l=document.createElement("button");l.setAttribute("class","submitProject"),l.setAttribute("id",`no${e}`),l.textContent="Done",l.addEventListener("click",(n=>{n.preventDefault(),console.log(d[e-1]);const l=document.querySelector("#projectTitle").value,c=document.querySelector("#description").value,r=document.querySelector("#dueDate").value,s=document.querySelector("#priority").value;let a=new o(l,c,r,s);d[e-1]=a,i.classList.add("hidden"),t.classList.remove("editMode");let u=document.querySelectorAll(`.no${e}`);for(let e=0;e<u.length;e++)u[e].classList.contains("projecttitle")?u[e].textContent=l:u[e].classList.contains("projectdescription")?u[e].textContent=c:u[e].classList.contains("dueDate")?u[e].textContent=r:u[e].classList.contains("priority")&&(u[e].classList.remove("low"),u[e].textContent=s,u[e].classList.add(s))})),i.appendChild(l),t.appendChild(i)}(e.target.id.slice(t))}))})),t=!0,n=!0}else!0===t?(document.querySelector(`.popupMenu${e.target.id.slice(i)}`).classList.add("hidden"),n=!0,t=!1):!1===t&&!0===n&&(document.querySelector(`.popupMenu${e.target.id.slice(i)}`).classList.remove("hidden"),t=!0);var c}))}))}(),document.querySelectorAll(".sidebarDelete").forEach((e=>{e.addEventListener("click",(e=>{let t=e.target.id.length-1;const n=document.querySelectorAll(`.no${e.target.id.slice(t)}`);e.stopImmediatePropagation(),n.forEach((e=>{e.remove()}))}))}))})),document.querySelector(".addProject").addEventListener("click",(()=>{n.classList.remove("hidden")})),document.querySelector("#title").addEventListener("click",(()=>{console.log(d)}))})();