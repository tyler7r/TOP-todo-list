(()=>{"use strict";const e=document.querySelector(".projectSection"),t=document.querySelector(".projects");const i=document.querySelector(".projectForm");let n=[];function o(e,t,i,n){this.title=e,this.description=t,this.dueDate=i,this.priority=n}document.querySelector("#submitProject").addEventListener("click",(d=>{d.preventDefault(),function(){let e=new o(document.querySelector("#projectTitle.main").value,document.querySelector("#description.main").value,document.querySelector("#dueDate.main").value,document.querySelector("#priority.main").value);n.push(e)}(),i.classList.add("hidden"),document.querySelectorAll("input").forEach((e=>e.value="")),document.querySelector("#priority").value="low",function(t){for(let i=t.length-1;i<t.length;i++){let n=t[i],o=document.createElement("div");o.classList.add("projectCard"),o.classList.add(`no${[i+1]}`),e.appendChild(o);const d=document.querySelector(".no"+[i+1]);for(let e in n){let t=document.createElement("div");t.classList.add(`project${e}`),d.appendChild(t),"priority"===e?(t.classList.add(`${n[e]}`),t.textContent=""):"description"===e?(t.classList.add("hidden"),t.textContent+=n[e]):t.textContent+=n[e],t.classList.add(`no${[i+1]}`)}let c=document.createElement("img");c.classList.add("ellipsis"),c.setAttribute("id",`e${[i+1]}`),c.src="ellipsis.svg",d.appendChild(c)}}(n),function(e){for(let i=e.length-1;i<e.length;i++){let n=e[i],o=document.createElement("div");o.classList.add("projectTab"),o.classList.add(`no${[i+1]}`),t.appendChild(o);const d=document.querySelector(".no"+[i+1]);for(let e in n)if("title"===e){let t=document.createElement("div");t.classList.add(`tab${e}`),t.classList.add(`project${e}`),t.classList.add(`no${[i+1]}`),t.textContent=n[e],d.appendChild(t)}let c=document.createElement("img");c.classList.add("sidebarDelete"),c.setAttribute("id",`sidebarD${[i+1]}`),c.src="delbtn.svg",d.appendChild(c)}}(n),function(){const e=document.querySelectorAll(".ellipsis");let t=!1;e.forEach((e=>{e.addEventListener("click",(e=>{let i=e.target.id.length-1;const d=document.querySelector(`.projectCard.no${e.target.id.slice(i)}`);if(e.stopImmediatePropagation(),!1===d.contains(document.querySelector(`.popupMenu${e.target.id.slice(i)}`))){const l=document.createElement("div");l.classList.add(`popupMenu${e.target.id.slice(i)}`);const r=document.createElement("div");r.classList.add("popupDelete"),r.setAttribute("id",`del${e.target.id.slice(i)}`),r.textContent="Delete",l.appendChild(r);const s=document.createElement("div");s.classList.add("popupEdit"),s.textContent="Edit",s.setAttribute("id",`edit${e.target.id.slice(i)}`),l.appendChild(s),d.appendChild(l),t=!0,document.querySelectorAll(".popupDelete").forEach((e=>{e.addEventListener("click",(e=>{let t=e.target.id.length-1;document.querySelectorAll(`.no${e.target.id.slice(t)}`).forEach((e=>{e.remove()}))}))})),c=e.target.id.slice(i),document.querySelectorAll(".popupEdit").forEach((e=>{e.addEventListener("click",(e=>{let t=e.target.id.length-1;const i=document.querySelector(`.projectCard.no${e.target.id.slice(t)}`);e.stopImmediatePropagation(),document.querySelector(`.popupMenu${c}`).classList.add("hidden"),i.classList.add("editMode"),document.querySelector(`.projectdescription.no${e.target.id.slice(t)}`).classList.remove("hidden"),function(e){const t=document.querySelector(`.projectCard.no${e}`);if(!1===t.contains(document.querySelector(`.editForm.no${e}`))){t.classList.add("editMode");let i=n[e-1];const d=document.createElement("form");d.setAttribute("method","get"),d.classList.add("editForm"),d.classList.add(`no${e}`);for(let t in i)if("priority"===t){let t=document.createElement("select");t.setAttribute("name","priority"),t.setAttribute("id","priority"),t.setAttribute("class",`no${e}`),d.appendChild(t);let i=document.createElement("option");i.setAttribute("value","low"),i.textContent="Low",t.appendChild(i);let n=document.createElement("option");n.setAttribute("value","medium"),n.textContent="Medium",t.appendChild(n);let o=document.createElement("option");o.setAttribute("value","high"),o.textContent="High",t.appendChild(o)}else if("dueDate"===t){let i=document.createElement("label");i.setAttribute("for",t),i.textContent=t,d.appendChild(i);let n=document.createElement("input");n.setAttribute("type","date"),n.setAttribute("name",t),n.setAttribute("id",t),n.setAttribute("class",`no${e}`),d.appendChild(n)}else if("title"===t){let i=document.createElement("label");i.setAttribute("for",t),i.textContent=t,d.appendChild(i);let n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("id","projectTitle"),n.setAttribute("class",`no${e}`),n.setAttribute("name",t),d.appendChild(n)}else{let i=document.createElement("label");i.setAttribute("for",t),i.textContent=t,d.appendChild(i);let n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("name",t),n.setAttribute("id",t),n.setAttribute("class",`no${e}`),d.appendChild(n)}let c=document.createElement("button");c.setAttribute("class","submitProject"),c.setAttribute("id",`no${e}`),c.textContent="Done",c.addEventListener("click",(i=>{i.preventDefault();const c=document.querySelector(`#projectTitle.no${e}`).value,l=document.querySelector(`#description.no${e}`).value,r=document.querySelector(`#dueDate.no${e}`).value,s=document.querySelector(`#priority.no${e}`).value;let a=new o(c,l,r,s);n[e-1]=a,d.classList.add("hidden"),t.classList.remove("editMode");let u=document.querySelectorAll(`.no${e}`);for(let e=0;e<u.length;e++)u[e].classList.contains("projecttitle")?u[e].textContent=c:u[e].classList.contains("projectdescription")?(u[e].textContent=l,u[e].classList.add("hidden")):u[e].classList.contains("projectdueDate")?u[e].textContent=r:u[e].classList.contains("projectpriority")&&(u[e].classList.remove("low"),u[e].classList.remove("medium"),u[e].classList.remove("high"),u[e].classList.add(s))})),d.appendChild(c),t.appendChild(d)}else t.contains(document.querySelector(`.editForm.no${e}`))&&(document.querySelector(`.editForm.no${e}`).classList.remove("hidden"),t.classList.add("editMode"))}(e.target.id.slice(t))}))}))}else!0===t?(document.querySelector(`.popupMenu${e.target.id.slice(i)}`).classList.add("hidden"),t=!1):!1===t&&d.contains(document.querySelector(`.popupMenu${e.target.id.slice(i)}`))&&(document.querySelector(`.popupMenu${e.target.id.slice(i)}`).classList.remove("hidden"),t=!0);var c}))}))}(),document.querySelectorAll(".sidebarDelete").forEach((e=>{e.addEventListener("click",(e=>{let t=e.target.id.length-1;const i=document.querySelectorAll(`.no${e.target.id.slice(t)}`);e.stopImmediatePropagation(),i.forEach((e=>{e.remove()}))}))}))})),document.querySelector(".addProject").addEventListener("click",(()=>{i.classList.remove("hidden")})),document.querySelector("#title").addEventListener("click",(()=>{console.log(n)}))})();